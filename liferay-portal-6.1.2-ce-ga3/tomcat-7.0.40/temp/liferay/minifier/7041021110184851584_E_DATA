AUI.add("liferay-marketplace-messenger",function(a){var b=!!(window.postMessage);var c={init:function(e,f){var d=this;if(a.Lang.isString(e)){d._targetURI=e}else{if(a.Lang.isObject(e)){d._targetFrame=e.targetFrame;d._targetURI=e.targetURI}}if(f){d.postMessage(f)}},postMessage:function(e){var d=this;if(b){a.postMessage(e,d._targetURI,d._targetFrame)}else{d._messages.push(e);if(d._messages.length==1){a.postMessage(e,d._targetURI,d._targetFrame)}}},receiveMessage:function(g,e){var d=this;e=e||d._targetURI;if(b){a.receiveMessage(g,e)}else{var f=function(j){var h=j.responseData;g(j);d._messages.shift();var i=null;if(d._messages.length>0){i=d._messages[0]}else{if(!h.empty){i={empty:true}}}if(i){a.postMessage(i,d._targetURI,d._targetFrame)}};a.receiveMessage(f,e)}},setTargetFrame:function(d){this._targetFrame=d},setTargetURI:function(d){this._targetURI=d},_messages:[],_targetFrame:null,_targetURI:null};Liferay.MarketplaceMessenger=c},"",{requires:["aui-messaging"]});