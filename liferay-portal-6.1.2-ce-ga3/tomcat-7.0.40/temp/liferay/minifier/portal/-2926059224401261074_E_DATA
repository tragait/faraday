AUI.add("liferay-document-library",function(V){var x=V.Object;var N=V.Lang;var at=Liferay.Util;var ai=V.UA;var l=V.Node.formatSelectorNS;var aa=x.owns;var c=V.config.win;var w=Liferay.HistoryManager;var i="checked";var u="active-area";var av="active-area-proxy";var z=".document-display-style";var aj=".document-display-style.selectable";var ap=".document-display-style.selected";var U="aui-helper-hidden";var af=".results-row";var n="selected";var W="data-direction-right";var O="data-folder-id";var M="data-view-entries";var T="data-view-folders";var p="list";var ak="displayStyleToolbar";var I="[data-draggable]";var G="document-library";var t="expandFolder";var aw="&lt;&lt;";var ar="&gt;&gt;";var Y="error";var S="&gt;";var g="parentNode";var a="&lt;";var Z="rowsPerPage";var L="searchType";var X="active";var ae="";var d="changeRequest";var m="click";var D="data";var q="direction";var P="left";var aq="right";var an="dragNode";var o="entryEnd";var ao="entryStart";var ah="focus";var ad="folderContainer";var r="folderEnd";var ag="folderId";var au="folderStart";var K="success";var C="toggleActionsButton";var al="repositoryId";var k="rowIdsDLFileShortcutCheckbox";var f="rowIdsFolderCheckbox";var J="rowIdsFileEntryCheckbox";var R="syncNotification";var j="struts_action";var e=1;var F=0;var ac=2;var H=3;var am=4;var s=2;var b=0;var h=1;var B=ai.touch;var Q='<div class="lfr-message-response" />';var v="viewEntries";var ab="viewEntriesPage";var E="viewFolders";Liferay.DL_ENTRIES_PAGINATOR=e;Liferay.DL_GLOBAL=F;Liferay.DL_HISTORY=ac;Liferay.DL_SEARCH=H;Liferay.DL_SEARCH_END=am;Liferay.DL_SEARCH_FRAGMENT=s;Liferay.DL_SEARCH_MULTIPLE=b;Liferay.DL_SEARCH_SINGLE=h;var y=V.Component.create({AUGMENTS:[Liferay.PortletBase],EXTENDS:V.Base,NAME:"documentlibrary",prototype:{initializer:function(ay){var aG=this;var aE=aG.byId("documentLibraryContainer");aG._documentLibraryContainer=aE;aG._dataRetrieveFailure=aG.ns("dataRetrieveFailure");aG._eventDataRequest=aG.ns("dataRequest");aG._eventDataRetrieveSuccess=aG.ns("dataRetrieveSuccess");aG._eventEditFileEntry=aG.ns("editFileEntry");aG._eventPageLoaded=aG.ns("pageLoaded");aG._displayStyleToolbarNode=aG.byId(ak);aG._entriesContainer=aG.byId("documentContainer");aG._selectAllCheckbox=aG.byId("allRowIdsCheckbox");aG._portletMessageContainer=V.Node.create(Q);aG._displayStyle=aG.ns("displayStyle");aG._folderId=aG.ns(ag);var aB=new Liferay.Message({boundingBox:aG.byId(R),contentBox:aG.byId("syncNotificationContent"),id:aG.NS+"show-sync-message",trigger:V.one("#"+aG.ns("showSyncMessageIcon")),visible:aG.byId(R).test(":visible")}).render();var az=0;if(ay.entriesTotal>0){az=ay.entryEnd/ay.entryRowsPerPage}var A={pageReportLabel:N.sub(Liferay.Language.get("x-of-x"),["{page}","{totalPages}"]),totalLabel:"("+Liferay.Language.get("total")+" {total})"};var aA=new V.Paginator({circular:false,containers:".document-entries-paginator",firstPageLinkLabel:aw,lastPageLinkLabel:ar,nextPageLinkLabel:S,page:az,prevPageLinkLabel:a,rowsPerPage:ay.entryRowsPerPage,rowsPerPageOptions:ay.entryRowsPerPageOptions,total:ay.entriesTotal,TPL:A}).render();aA.on(d,aG._onEntryPaginatorChangeRequest,aG);var aF=0;if(ay.foldersTotal>0){aF=ay.folderEnd/ay.folderRowsPerPage}var aC=new V.Paginator({alwaysVisible:false,circular:false,containers:".folder-paginator",firstPageLinkLabel:aw,lastPageLinkLabel:ar,nextPageLinkLabel:S,page:aF,prevPageLinkLabel:a,rowsPerPage:ay.folderRowsPerPage,rowsPerPageOptions:ay.folderRowsPerPageOptions,total:ay.foldersTotal,TPL:A}).render();aC.on(d,aG._onFolderPaginatorChangeRequest,aG);var ax=[Liferay.after(aG._eventDataRequest,aG._afterDataRequest,aG),Liferay.on(aG._dataRetrieveFailure,aG._onDataRetrieveFailure,aG),Liferay.on(aG._eventDataRequest,aG._onDataRequest,aG),Liferay.on(aG._eventDataRetrieveSuccess,aG._onDataRetrieveSuccess,aG),Liferay.on(aG._eventEditFileEntry,aG._editFileEntry,aG),Liferay.on(aG._eventPageLoaded,aG._onPageLoaded,aG)];var aD=aG.byId(ad);aG._listView=new Liferay.ListView({boundingBox:l(aG.NS,"#listViewContainer"),cssClass:"folder-display-style lfr-list-view-content",itemSelector:".folder a.browse-folder, .folder a.expand-folder",contentBox:aD,srcNode:aD}).render();aG._listView.after("transitionComplete",aG._initDropTargets,aG);aG._listView.after("itemChange",aG._afterListViewItemChange,aG);aE.delegate(m,V.bind(aG._onDocumentLibraryContainerClick,aG),l(aG.NS,"#documentContainer a[data-folder=true], #breadcrumbContainer a"));ax.push(w.after("stateChange",aG._afterStateChange,aG),Liferay.on("showTab",aG._onShowTab,aG));aE.plug(V.LoadingMask);aG._config=ay;aG._displayViews=ay.displayViews;aG._entryPaginator=aA;aG._folderPaginator=aC;aG._eventHandles=ax;aG._initHover();if(themeDisplay.isSignedIn()){if(ay.updateable){aG._initDragDrop()}aG._initSelectAllCheckbox();aG._initToggleSelect()}aG._repositoriesData={};ax.push(Liferay.on(ay.portletId+":portletRefreshed",V.bind(aG.destructor,aG)));aG._restoreState()},destructor:function(){var A=this;A._entryPaginator.destroy();A._folderPaginator.destroy();A._listView.destroy();var ax=A._ddHandler;if(ax){ax.destroy()}V.Array.invoke(A._eventHandles,"detach");A._documentLibraryContainer.purge(true)},_addHistoryState:function(aA){var ax=this;var A=V.clone(aA);var ay=w.get();var az=ax._config.defaultParams;x.each(ay,function(aB,aC,aD){if(!aa(A,aC)&&!aa(az,aC)){A[aC]=null}});if(!x.isEmpty(A)){w.add(A)}},_afterDataRequest:function(ax){var aF=this;var aE=ax.requestParams;var aA=aF._config;var aC={};var aG=aF._displayStyle;aC[aF._folderId]=aA.defaultParentFolderId;aC[aG]=w.get(aG)||aA.displayStyle;aC[aF.ns(v)]=true;aC[aF.ns(E)]=true;V.mix(aC,aE,true);aF._documentLibraryContainer.loadingmask.show();var A=ax.src;if(A!==ac){aF._addHistoryState(aC)}var aB=V.io.request(aF._config.mainUrl,{autoLoad:false});var ay=V.bind(aF._sendIOResponse,aF,aB);aB.after(["failure",K],ay);aB.set(D,aC);if(A===H){var aD=ax.requestParams[aF.NS+al];var aH=aF._repositoriesData;var az=aH[aD];if(!az){az={};aH[aD]=az}az.dataRequest=aC}aF._lastDataRequest=aC;aB.start()},_afterStateChange:function(ay){var A=this;var ax=A.NS;var aA={};var az=w.get();x.each(az,function(aC,aB,aD){if(aB.indexOf(ax)===0){aA[aB]=aC}});if(x.isEmpty(aA)){aA=A._getDefaultHistoryState()}Liferay.fire(A._eventDataRequest,{requestParams:aA,src:ac})},_afterListViewItemChange:function(ax){var aG=this;var az=V.one(".folder.selected");if(az){az.removeClass(n)}var aI=ax.newVal;aI.ancestor(".folder").addClass(n);var aC=aI.attr("data-expand-folder");var A=aI.attr("data-file-entry-type-id");var aB=aI.attr(O);var aA=aI.attr("data-navigation");var aH=aI.attr(M);var aD=aI.attr(T);var aE=P;if(aI.attr(W)){aE=aq}aG._listView.set(q,aE);var ay=aG._config;var aF={};aF[aG.ns(j)]=ay.strutsAction;aF[aG.ns(o)]=ay.entryRowsPerPage||aG._entryPaginator.get(Z);aF[aG.ns(ao)]=0;aF[aG.ns(r)]=ay.folderRowsPerPage||aG._folderPaginator.get(Z);aF[aG.ns(au)]=0;if(aC){aF[aG.ns(t)]=aC}if(aB){aF[aG._folderId]=aB}if(aA){aF[aG.ns("navigation")]=aA}if(aH){aF[aG.ns(v)]=aH}if(A){aF[aG.ns("fileEntryTypeId")]=A}if(aD){aF[aG.ns(E)]=aD}Liferay.fire(aG._eventDataRequest,{requestParams:aF})},_editFileEntry:function(az){var A=this;var ay=A._config;var aA=az.action;var ax=ay.editEntryUrl;if(aA==ay.actions.MOVE){ax=ay.moveEntryRenderUrl}A._processFileEntryAction(aA,ax)},_getDefaultHistoryState:function(){var ax=this;var A=w.get();if(x.isEmpty(A)){A=ax._getDefaultParams()}return A},_getDefaultParams:function(){var A=this;var ay={};var ax=A._config;ay[A.ns(o)]=ax[o];ay[A.ns(ao)]=ax[ao];ay[A.ns(r)]=ax[r];ay[A.ns(au)]=ax[au];ay[A.ns(ag)]=ax[ag];return ay},_getDisplayStyle:function(ay){var A=this;var ax=w.get(A._displayStyle)||A._config.displayStyle;if(ay){ax=(ax==ay)}return ax},_getMoveText:function(ax,A){var ay=ae;if(A){ay=Liferay.Language.get("x-item-is-ready-to-be-moved-to-x");if(ax>1){ay=Liferay.Language.get("x-items-are-ready-to-be-moved-to-x")}}else{ay=Liferay.Language.get("x-item-is-ready-to-be-moved");if(ax>1){ay=Liferay.Language.get("x-items-are-ready-to-be-moved")}}return ay},_getResultsStartEnd:function(aC,aA,az){var A=this;if(!N.isValue(aA)){aA=0;var ay=aC.get("page")-1;if(ay>0){aA=ay}}if(!N.isValue(az)){az=aC.get(Z)}var aB=aA*az;var ax=aB+az;return[aB,ax]},_initDragDrop:function(){var ax=this;var ay=new V.DD.Delegate({container:ax._documentLibraryContainer,nodes:I,on:{"drag:drophit":V.bind(ax._onDragDropHit,ax),"drag:enter":V.bind(ax._onDragEnter,ax),"drag:exit":V.bind(ax._onDragExit,ax),"drag:start":V.bind(ax._onDragStart,ax)}});var A=ay.dd;A.set("offsetNode",false);A.removeInvalid("a");A.set("groups",[G]);A.plug([{cfg:{moveOnEnd:false},fn:V.Plugin.DDProxy},{cfg:{constrain2node:ax._documentLibraryContainer},fn:V.Plugin.DDConstrained}]);if(B){ax._dragTask=V.debounce(function(az){if(az){az.simulate("click")}},V.DD.DDM.get("clickTimeThresh"));A.after("afterMouseDown",function(az){ax._dragTask(az.target.get("node").one(".document-link"))},ax)}ax._initDropTargets();ax._ddHandler=ay},_initDropTargets:function(){var A=this;if(themeDisplay.isSignedIn()){var ax=A._documentLibraryContainer.all('[data-folder="true"]');ax.each(function(az,ay,aA){az.plug(V.Plugin.Drop,{groups:[G],padding:"-1px"})})}},_initHover:function(){var A=this;A._entriesContainer.on([ah,"blur"],A._toggleHovered,A)},_initSelectAllCheckbox:function(){var A=this;A._selectAllCheckbox.on(m,A._onSelectAllCheckboxChange,A)},_initToggleSelect:function(){var A=this;A._entriesContainer.delegate("change",A._onDocumentSelectorChange,".document-selector",A)},_moveEntries:function(ax){var A=this;var ay=A._config;var az=ay.form.node;az.get(A.ns("newFolderId")).val(ax);A._processFileEntryAction(ay.moveConstant,ay.moveEntryRenderUrl)},_onDataRetrieveSuccess:function(az){var A=this;var ax=az.responseData;A._documentLibraryContainer.loadingmask.hide();var ay=V.Node.create(ax);if(ay){A._setBreadcrumb(ay);A._setButtons(ay);A._setEntries(ay);A._setFileEntrySearch(ay);A._setFolders(ay);A._setParentFolderTitle(ay);A._syncDisplayStyleToolbar(ay);A._setSearchResults(ay);A._parseContent(ay)}},_onDataRequest:function(az){var A=this;var ay;var ax=ap+" :checkbox";if(A._getDisplayStyle(p)){ax="td > :checkbox:checked"}ay=A._entriesContainer.all(ax);if(ay.size()){A._selectedEntries=ay.val()}if(az.src===H){A._entryPaginator.setState({page:1})}A._processDefaultParams(az);A._updatePaginatorValues(az)},_onDataRetrieveFailure:function(ax){var A=this;A._documentLibraryContainer.loadingmask.hide();A._sendMessage(Y,Liferay.Language.get("your-request-failed-to-complete"))},_onDocumentLibraryContainerClick:function(az){var A=this;az.preventDefault();var ay=A._config;var aA={};aA[A.ns(j)]=ay.strutsAction;aA[A.ns("action")]="browseFolder";aA[A.ns(o)]=A._entryPaginator.get(Z);aA[A.ns(r)]=A._folderPaginator.get(Z);aA[A._folderId]=az.currentTarget.attr(O);aA[A.ns(t)]=false;aA[A.ns(ao)]=0;aA[A.ns(au)]=0;var aC=az.currentTarget.attr(M);if(aC){aA[A.ns(v)]=aC}var ax=az.currentTarget.attr(T);if(ax){aA[A.ns(E)]=ax}var aB=P;if(az.currentTarget.attr(W)){aB=aq}A._listView.set(q,aB);Liferay.fire(A._eventDataRequest,{requestParams:aA})},_onDocumentSelectorChange:function(ax){var A=this;A._toggleSelected(ax.currentTarget,true);c[A.ns(C)]();at.checkAllBox(A._entriesContainer,[A.ns(J),A.ns(k),A.ns(f)],A._selectAllCheckbox)},_onDragDropHit:function(aA){var A=this;var ay=aA.target.get(an);ay.removeClass(av);ay.empty();var aC=aA.drop.get("node");var ax=aC.attr(O);var az=aC.ancestor(".document-display-style");var aB=A._ddHandler.dd.get(D).selectedItems;if(aB.indexOf(az)==-1){A._moveEntries(ax)}},_onDragEnter:function(ay){var aD=this;var aB=ay.drag.get("node");var A=ay.drop.get("node");A=A.ancestor(z)||A;if(!aB.compareTo(A)){A.addClass(u);var ax=ay.target.get(an);var aE=aD._ddHandler.dd;var aC=aE.get(D).selectedItemsCount;var az=aD._getMoveText(aC,true);var aA=N.trim(A.attr("data-title"));ax.html(N.sub(az,[aC,aA]))}},_onDragExit:function(az){var ax=this;var aB=az.drop.get("node");aB=aB.ancestor(z)||aB;aB.removeClass(u);var ay=az.target.get(an);var A=ax._ddHandler.dd.get(D).selectedItemsCount;var aA=ax._getMoveText(A);ay.html(N.sub(aA,[A]))},_onDragStart:function(ax){var aE=this;if(aE._dragTask){aE._dragTask.cancel()}var aC=ax.target;var az=aC.get("node");if(!az.hasClass(n)){aE._unselectAllEntries();aE._toggleSelected(az)}var A=aC.get(an);A.setStyles({height:ae,width:ae});var aA=aE._entriesContainer.all(ap);var aB=aA.size();var ay=aE._getMoveText(aB);A.html(N.sub(ay,[aB]));A.addClass(av);var aD=aE._ddHandler.dd;aD.set(D,{selectedItemsCount:aB,selectedItems:aA})},_onEntryPaginatorChangeRequest:function(ax){var A=this;var aA=A._getResultsStartEnd(A._entryPaginator);var ay=A._lastDataRequest||A._getDefaultParams();var az={};az[A.ns(ao)]=aA[0];az[A.ns(o)]=aA[1];az[A.ns(v)]=false;az[A.ns(ab)]=true;az[A.ns(E)]=false;if(x.owns(ay,A.ns("searchType"))){az[A.ns(L)]=s}V.mix(ay,az,true);Liferay.fire(A._eventDataRequest,{requestParams:ay,src:e})},_onFolderPaginatorChangeRequest:function(ax){var A=this;var aA=A._getResultsStartEnd(A._folderPaginator);var ay=A._lastDataRequest||{};var az={};az[A.ns(au)]=aA[0];az[A.ns(r)]=aA[1];az[A.ns(v)]=false;az[A.ns(E)]=true;V.mix(ay,az,true);Liferay.fire(A._eventDataRequest,{requestParams:ay})},_onPageLoaded:function(aD){var A=this;var ay=aD.paginator;if(ay){if(aD.src==H){var aB=A._repositoriesData;var ax=aB[aD.repositoryId];if(!ax){ax={};A._repositoriesData[aD.repositoryId]=ax}ax.paginatorData=ay;var az=ax.dataRequest;var aA=az[A.NS+L];if(aA===h||aA===s){A._setPaginatorData(ay)}else{var aC=A.byId("searchResults"+aD.repositoryId);if(aC&&!(aC.get(g).get(g).hasClass(U))){A._setPaginatorData(ay)}}}else{A._setPaginatorData(ay)}}},_onSelectAllCheckboxChange:function(){var A=this;A._toggleEntriesSelection()},_onShowTab:function(ay){var A=this;var az=ay.tabSection;var ax=A.NS;V.some(A._repositoriesData,function(aC,aE,aD){var aA=az.one("#"+ax+"searchResults"+aE);if(aA){var aB=aD[aE].paginatorData;A._setPaginatorData(aB);A._lastDataRequest=aC.dataRequest}return aA})},_parseContent:function(ay){var A=this;var ax=V.Node.create("<div></div>");ax.plug(V.Plugin.ParseContent);ax.ParseContent.parseContent(ay)},_processDefaultParams:function(ax){var A=this;var ay=ax.requestParams;x.each(A._config.defaultParams,function(aA,az,aB){if(!N.isValue(w.get(az))){ay[az]=aA}})},_processFileEntryAction:function(aB,ay){var aH=this;var aA=aH._config;var az=aA.form.node;var A=location.href;if(aB===aA.actions.DELETE&&!w.HTML5&&location.hash){A=aH._updateFolderIdRedirectUrl(A)}az.attr("method",aA.form.method);az.get(aH.ns("cmd")).val(aB);az.get(aH.ns("redirect")).val(A);var aE=aA.allRowIds;var aC=aA.rowIds;var aF=aH.ns(aE+"Checkbox");var ax=at.listCheckedExcept(az,aF,aH.ns(aC+"FolderCheckbox"));var aD=at.listCheckedExcept(az,aF,aH.ns(aC+"FileEntryCheckbox"));var aG=at.listCheckedExcept(az,aF,aH.ns(aC+"DLFileShortcutCheckbox"));az.get(aH.ns("folderIds")).val(ax);az.get(aH.ns("fileEntryIds")).val(aD);az.get(aH.ns("fileShortcutIds")).val(aG);submitForm(az,ay)},_restoreState:function(){var ax=this;if(!w.HTML5){var A=w.get();if(!x.isEmpty(A)){var ay=ax.NS;var az={};x.each(A,function(aB,aA,aC){if(aA.indexOf(ay)===0){az[aA]=aB}});Liferay.fire(ax._eventDataRequest,{requestParams:az})}}},_setBreadcrumb:function(az){var A=this;var aB=A.one("#breadcrumb",az);if(aB){var ax;var aA=aB.one(".portlet-breadcrumb ul");if(aA){ax=A.byId("breadcrumbContainer");ax.setContent(aA)}var ay=aB.one(".portal-breadcrumb ul");if(ay){ax=V.one("#breadcrumbs ul");if(ax){ax.setContent(ay.html())}}}},_setButtons:function(az){var A=this;var ay=A.one("#addButton",az);if(ay){var aD=A.byId("addButtonContainer");aD.setContent(ay)}var aC=A.one("#displayStyleButtons",az);if(aC){A._displayStyleToolbarNode.empty();var aB=A.byId("displayStyleButtonsContainer");aB.setContent(aC)}var aA=A.one("#sortButton",az);if(aA){var ax=A.byId("sortButtonContainer");ax.setContent(aA)}},_setEntries:function(ay){var ax=this;var A=ax.one("#entries",ay);if(A){var az=ax._entriesContainer;az.empty();az.setContent(A);ax._initDropTargets()}},_setFileEntrySearch:function(ay){var A=this;var ax=A.one("#fileEntrySearch",ay);if(ax){var az=A.byId("fileEntrySearchContainer");if(az){az.purge(true);az.setContent(ax)}}},_setFolders:function(az){var ax=this;var ay=ax.one("#folderContainer",az);if(ay){var A=V.one(".lfr-list-view-data-container");ax._listView.set(D,ay.html())}},_setPaginatorData:function(ax){var A=this;var ay=A["_"+ax.name];if(V.instanceOf(ay,V.Paginator)){ay.setState(ax.state)}},_setParentFolderTitle:function(ay){var ax=this;var az=ax.one("#parentFolderTitle",ay);if(az){var A=ax.byId("parentFolderTitleContainer");A.setContent(az)}},_setSearchResults:function(aD){var aJ=this;var az;var aC;var ax=aJ.one("#"+aJ.ns(al),aD);if(ax){aC=ax.val();az=aJ._repositoriesData[aC]}var aH;if(az){aH=az.dataRequest[aJ.NS+"searchType"]}var ay=aJ.one("#"+aJ.ns("searchInfo"),aD);var aB=aJ._entriesContainer;var aI=aJ.one("#"+aJ.ns("fragmentSearchResults"),aD);if(ay&&aH!=s){aB.setContent(ay)}var aA;if(aI){var aF=aB.one("#"+aJ.ns("searchResults")+aC);if(aF){aF.setContent(aI.html())}else{aA=aB.one("#"+aJ.ns("singleSearchResults"));if(aA){aA.setContent(aI.html())}}}aA=aJ.one("#"+aJ.ns("singleSearchResults"),aD);if(aA){aB.append(aA)}var A=aJ.one(".local-search-results",aD);if(A){var aE=aJ.one("#"+aJ.ns("searchResultsContainer"),aD);aB.append(aE)}var aG=aJ.one(".repository-search-results",aD);if(aG){var aK=aB.one("#"+aJ.ns("repositorySearchResultsContainer")+aC);aK.empty();aK.append(aG)}aJ._updateSelectedEntriesStatus()},_sendIOResponse:function(aB,ay){var A=this;var az=aB.get(D);var aA=aB.get("responseData");var ax=A._eventDataRetrieveSuccess;if(ay.type.indexOf(K)==-1){ax=A._dataRetrieveFailure}Liferay.fire(ax,{data:az,responseData:aA})},_sendMessage:function(ay,az){var A=this;var ax=A._portletMessageContainer;ax.removeClass("portlet-msg-error").removeClass("portlet-msg-success");ax.addClass("portlet-msg-"+ay);ax.html(az);ax.show();A._entriesContainer.setContent(ax)},_syncDisplayStyleToolbar:function(aA){var A=this;var aC=A._displayViews;var az=aC.length;if(az>1){var aB=A._displayStyleToolbarNode.getData(ak);var ax=A._getDisplayStyle();for(var ay=0;ay<az;ay++){aB.item(ay).StateInteraction.set(X,ax===aC[ay])}}},_toggleEntriesSelection:function(){var A=this;var az=V.one(".document-container");var ay=A._selectAllCheckbox;at.checkAll(az,A.ns(f),ay,af);at.checkAll(az,A.ns(J),ay,af);at.checkAll(az,A.ns(k),ay,af);c[A.ns(C)]();if(!A._getDisplayStyle(p)){var ax=V.all(aj);ax.toggleClass(n,A._selectAllCheckbox.attr(i))}},_toggleHovered:function(ay){var A=this;if(!A._getDisplayStyle(p)){var ax=ay.target.ancestor(z);if(ax){ax.toggleClass("hover",(ay.type==ah))}}},_toggleSelected:function(aA,ax){var A=this;if(A._getDisplayStyle(p)){if(!ax){var ay=aA.one("input")||aA;ay.attr(i,!aA.attr(i))}}else{aA=aA.ancestor(z)||aA;if(!ax){var az=aA.one(".document-selector :checkbox");az.attr(i,!az.attr(i));at.updateCheckboxValue(az)}}aA.toggleClass(n)},_unselectAllEntries:function(){var A=this;A._selectAllCheckbox.attr(n,false);A._toggleEntriesSelection()},_updateFolderIdRedirectUrl:function(ay){var A=this;var ax=A._config;var aA=ax.folderIdHashRegEx.exec(ay);if(aA){var az=aA[1];ay=ay.replace(ax.folderIdRegEx,function(aC,aB){return aC.replace(aB,az)})}return ay},_updateSelectedEntriesStatus:function(){var A=this;var ax=A._selectedEntries;if(ax&&ax.length){var ay=A._entriesContainer;V.each(ax,function(aB,az,aC){var aA=ay.one('input[value="'+aB+'"]');if(aA){A._toggleSelected(aA)}});ax.length=0;at.checkAllBox(A._entriesContainer,[A.ns(J),A.ns(k),A.ns(f)],A._selectAllCheckbox)}},_updatePaginatorValues:function(ay){var A=this;var aA=ay.requestParams;var az=A._getResultsStartEnd(A._entryPaginator);var ax=A._getResultsStartEnd(A._folderPaginator);var aB={};if(aA){if(!aa(aA,A.ns(ao))&&!aa(aA,A.ns(o))){aB[A.ns(ao)]=az[0];aB[A.ns(o)]=az[1]}if(!aa(aA,A.ns(au))&&!aa(aA,A.ns(r))){aB[A.ns(au)]=ax[0];aB[A.ns(r)]=ax[1]}if(!x.isEmpty(aB)){V.mix(aA,aB,true)}}}}});Liferay.Portlet.DocumentLibrary=y},"",{requires:["aui-paginator","dd-constrain","dd-delegate","dd-drag","dd-drop","dd-proxy","liferay-history-manager","liferay-list-view","liferay-message","liferay-portlet-base"]});